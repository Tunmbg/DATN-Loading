<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <body>
    <div th:fragment="content">
      <div class="rbt-page-banner-wrapper">
        <!-- Start Banner BG Image  -->
        <div class="rbt-banner-image"></div>
        <!-- End Banner BG Image  -->
      </div>

      <!-- Start Card Style -->
      <div class="rbt-dashboard-area rbt-section-overlayping-top rbt-section-gapBottom">
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <!-- Start Dashboard Top  -->
              <div
                th:replace="~{client/instructor/instructor-banner :: instructor-banner}"
                sec:authorize="hasAnyRole('ROLE_INSTRUCTOR', 'ROLE_ADMIN')"
              ></div>
              <div
                th:replace="~{client/student/student-banner :: student-banner}"
                sec:authorize="hasRole('ROLE_STUDENT') and not hasAnyRole('ROLE_INSTRUCTOR', 'ROLE_ADMIN')"
              ></div>
              <!-- End Dashboard Top  -->

              <div class="row g-5">
                <div class="col-lg-3">
                  <!-- Dashboard Sidebar -->
                  <div th:replace="~{client/student/studentSidebar :: student-sidebar}"></div>
                </div>
                <div class="col-lg-9">
                  <!-- Start Enrole Course  -->
                  <div class="rbt-dashboard-content bg-color-white rbt-shadow-box">
                    <div class="content">
                      <div class="section-title">
                        <h4 class="rbt-title-style-3">Lịch sử đơn hàng</h4>
                      </div>

                      <div class="rbt-dashboard-table table-responsive mobile-table-750">
                        <table class="rbt-table table table-borderless">
                          <thead>
                            <tr>
                              <th>Mã Hoá Đơn</th>
                              <th>Tên Khóa Học</th>
                              <th>Ngày</th>
                              <th>Giá</th>
                              <th>Trạng Thái</th>
                            </tr>
                          </thead>

                          <tbody>
                            <tr th:each="detail : ${orderDetails}">
                              <td th:text="'#' + ${detail.order.orderId}"></td>
                              <td th:text="${detail.course.title}"></td>
                              <td th:text="${#dates.format(detail.order.createdAt, 'MMMM dd, yyyy')}"></td>
                              <td
                                th:text="${#numbers.formatDecimal(detail.price, 0, 'COMMA', 0, 'POINT')} + ' VNĐ'"
                              ></td>
                              <td>
                                <span th:switch="${detail.order.status}">
                                  <span th:case="'paid'" class="badge bg-success">Success</span>
                                  <span th:case="'pending'" class="badge bg-primary">Processing</span>
                                  <span th:case="'canceled'" class="badge bg-danger">Canceled</span>
                                </span>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                  <!-- End Enrole Course  -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- End Card Style -->
    </div>
  </body>
</html>
