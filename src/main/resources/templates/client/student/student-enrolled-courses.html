<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <th:block th:fragment="student-enrolled-courses-styles">
      <style>
        .rbt-price {
          display: block;
        }
      </style>
    </th:block>
  </head>
  <body>
    <div th:fragment="content">
      <div class="rbt-page-banner-wrapper">
        <div class="rbt-banner-image"></div>
      </div>

      <div class="rbt-dashboard-area rbt-section-overlayping-top rbt-section-gapBottom">
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <!-- Start Dashboard Top  -->
              <div
                th:replace="~{client/instructor/instructor-banner :: instructor-banner}"
                sec:authorize="hasAnyRole('ROLE_INSTRUCTOR', 'ROLE_ADMIN')"
              ></div>
              <div
                th:replace="~{client/student/student-banner :: student-banner}"
                sec:authorize="hasRole('ROLE_STUDENT') and not hasAnyRole('ROLE_INSTRUCTOR', 'ROLE_ADMIN')"
              ></div>
              <!-- End Dashboard Top  -->

              <div class="row g-5">
                <div class="col-lg-3">
                  <div th:replace="~{client/student/studentSidebar :: student-sidebar}"></div>
                </div>

                <div class="col-lg-9">
                  <div class="rbt-dashboard-content bg-color-white rbt-shadow-box">
                    <div class="content">
                      <div class="section-title">
                        <h4 class="rbt-title-style-3">Các khóa học đã đăng ký</h4>
                      </div>

                      <div class="advance-tab-button mb--30">
                        <ul class="nav nav-tabs tab-button-style-2 justify-content-start" id="myTab-4" role="tablist">
                          <li role="presentation">
                            <a
                              href="#"
                              class="tab-button active"
                              id="home-tab-4"
                              data-bs-toggle="tab"
                              data-bs-target="#home-4"
                              role="tab"
                              aria-controls="home-4"
                              aria-selected="true"
                            >
                              <span class="title">Khóa học đã đăng ký</span>
                            </a>
                          </li>
                        </ul>
                      </div>

                      <div class="tab-content">
                        <div class="tab-pane fade active show" id="home-4" role="tabpanel" aria-labelledby="home-tab-4">
                          <div class="row g-5">
                            <div th:if="${#lists.isEmpty(enrollments)}">
                              <p>Bạn chưa đăng ký khóa học nào.</p>
                            </div>

                            <div th:each="enrollment : ${enrollments}" class="col-lg-4 col-md-6 col-12">
                              <div class="rbt-card variation-01 rbt-hover">
                                <div class="rbt-card-img">
                                  <a th:href="@{/course-details/{id}(id=${enrollment.course.courseId})}">
                                    <img
                                      th:src="@{'/uploads/course/' + ${enrollment.course.courseImage}}"
                                      onerror="this.onerror=null; this.src='/assets/images/course/course-default.jpg';"
                                      alt="Card image"
                                    />
                                  </a>
                                </div>
                                <div class="rbt-card-body">
                                  <div class="rbt-card-top">
                                    <div class="rbt-review">
                                      <div class="rating">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                      </div>
                                      <span class="rating-count">(15 Đánh giá)</span>
                                    </div>
                                    <div class="rbt-bookmark-btn">
                                      <a class="rbt-round-btn" title="Bookmark" href="#">
                                        <i class="feather-bookmark"></i>
                                      </a>
                                    </div>
                                  </div>

                                  <h4 class="rbt-card-title">
                                    <a
                                      th:href="@{/course-details/{id}(id=${enrollment.course.courseId})}"
                                      th:text="${enrollment.course.title}"
                                    >
                                      Tên khóa học
                                    </a>
                                  </h4>

                                  <ul class="rbt-meta">
                                    <li>
                                      <i class="feather-book"></i>
                                      10 Bài học
                                    </li>
                                    <li>
                                      <i class="feather-users"></i>
                                      25 Học viên
                                    </li>
                                  </ul>

                                  <div class="rbt-card-bottom">
                                    <a class="rbt-btn btn-sm bg-primary-opacity w-100 text-center" href="#">
                                      Tải xuống chứng chỉ
                                    </a>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <!-- row g-5 -->
                        </div>
                      </div>
                    </div>
                    <!-- content -->
                  </div>
                  <!-- rbt-dashboard-content -->
                </div>
                <!-- col-lg-9 -->
              </div>
              <!-- row g-5 -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
