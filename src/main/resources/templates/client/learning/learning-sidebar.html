<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <body>
    <div th:fragment="learning-sidebar">
      <div class="rbt-lesson-leftsidebar">
        <div class="rbt-course-feature-inner rbt-search-activation">
          <div class="section-title">
            <h4 class="rbt-title-style-3">Toàn bộ nội dung khóa học</h4>
          </div>

          <div class="lesson-search-wrapper">
            <form action="#" class="rbt-search-style-1">
              <input
                class="rbt-search-active"
                type="text"
                placeholder="Tìm kiếm bài giảng"
              />
              <button class="search-btn disabled">
                <i class="feather-search"></i>
              </button>
            </form>
          </div>

          <hr class="mt--10" />

          <div
            class="rbt-accordion-style rbt-accordion-02 for-right-content accordion"
          >
            <div class="accordion" id="accordionExampleb2">
              <div class="accordion-item card">
                <div
                  class="accordion-item card"
                  th:each="module, iterStat : ${course.modules}"
                >
                  <h2
                    class="accordion-header card-header"
                    th:id="'heading-module-' + ${iterStat.index}"
                  >
                    <button
                      class="accordion-button collapsed"
                      type="button"
                      data-bs-toggle="collapse"
                      th:attr="data-bs-target='#collapse-module-' + ${iterStat.index}, aria-controls='collapse-module-' + ${iterStat.index}"
                      aria-expanded="false"
                      th:text="${module.moduleTitle}"
                    ></button>
                  </h2>
                  <div
                    class="accordion-collapse collapse"
                    th:id="'collapse-module-' + ${iterStat.index}"
                    th:attr="aria-labelledby='heading-module-' + ${iterStat.index}"
                  >
                    <div class="accordion-body card-body">
                      <ul class="rbt-course-main-content liststyle">
                        <li th:each="lecture : ${module.lectures}">
                          <a
                            th:href="@{/lesson/{id}(id=${course.courseId})}"
                            th:attr="data-video-url=${lecture.videoUrl}"
                          >
                            <div class="course-content-left">
                              <i class="feather-play-circle"></i>
                              <span
                                class="text"
                                th:text="${lecture.lectureTitle}"
                                >Values and Variables</span
                              >
                            </div>
                            <div class="course-content-right">
                              <span
                                class="min-lable"
                                th:text="${lecture.duration + ' min'}"
                                >20 min</span
                              >
                              <span class="rbt-check unread"
                                ><i class="feather-circle"></i
                              ></span>
                            </div>
                          </a>
                        </li>

                        <li th:each="quiz : ${module.quizzes}">
                          <a th:href="@{/quiz/{id}(id=${quiz.quizId})}">
                            <div class="course-content-left">
                              <i class="feather-help-circle"></i>
                              <span class="text" th:text="${quiz.title}"
                                >Quiz</span
                              >
                            </div>
                            <div class="course-content-right">
                              <span
                                class="min-lable"
                                th:text="${quiz.timeLimit + ' min'}"
                                >15 min</span
                              >
                              <span class="rbt-check unread"
                                ><i class="feather-circle"></i
                              ></span>
                            </div>
                          </a>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="chatbot-container text-center my-3">
            <button
              id="chatbotToggle"
              type="button"
              class="btn btn-primary px-4 py-3 fs-5 rounded shadow"
            >
              <i class="feather-message-circle me-2"></i> Chat với trợ lý
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
